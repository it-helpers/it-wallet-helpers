{
    "$id": "https://example.com/entity-configuration_eaa_provider.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "entity configuration ieD Provider",
    "type": "object",
    "properties":{
        "exp": "1649610249",
        "iat": "1649437449",
        "iss": "https://it-wallet-eaa-provider.example.it",
        "sub": "https://it-wallet-eaa-provider.example.it",
        "jwks": {
            "keys": [
                {
                    "kty": "RSA",
                    "use": "sig",
                    "n": "w4wEivQmGFZ04_ucwCqDihZcygppZfPa7KYA2D88mZz_JHLPsyip7LqSloB6xln1gp1UQREGiutv10FHvn3TXVj5P6pj7xp88nWZVaRpGKeGXgWxzzB4DcPv4Wykk5p2kkeezMYsspFM22YyVVD0tWBKbaJyFqEI60QrtXws1jXOv5KGX8DW0BryjNB5x1_QHWrASYzEPaybApgweioWWdxVjzkinLRX_G93xqU_3973vd_ysrfv5hSh5R5AiBP5S1iuC1MA2Ftv98etbv8iQ_zKy-Epk8JPI9VS9qqfgx0kKUjtaTSaT_TNtanv-bye8WDXE0-ik6DOScfEMS00Ww",
                    "e": "AQAB",
                    "kid": "eNN-g5i6CnLKcltQBp6abbioGMbzM6muW3vuxw6uh88"
                }
            ]
        },
        "authority_hints": [
            "https://superior-entity.example.org/federation"
        ],
        "metadata": {
            "federation_entity": {
                "organization_name": "Istituto Poligrafico e Zecca dello Stato",
                "homepage_uri": "https://it-wallet-eaa-provider.example.it",
                "policy_uri": "https://it-wallet-eaa-provider.example.it/privacy_policy",
                "tos_uri": "https://it-wallet-eaa-provider.example.it/info_policy",
                "logo_uri": "https://it-wallet-eaa-provider.example.it/logo.svg",
                "contacts": [
                    "protocollo@pec.ipzs.it"
                ]
            },
            "oauth_authorization_server": {
                "authorization_endpoint": "https://it-wallet-eaa-provider.example.it/authorization",
                "pushed_authorization_request_endpoint": "https://it-wallet-eaa-provider.example.it/as/par",
                "dpop_signing_alg_values_supported": [
                    "ES256",
                    "ES512"
                ],
                "token_endpoint": "https://it-wallet-eaa-provider.example.it/token",
                "client_registration_types_supported": [
                    "automatic"
                ],
                "code_challenge_methods_supported": [
                    "S256"
                ],
                "authorization_details_types_supported": [
                    "openid_credential"
                ],
                "acr_values_supported": [
                    "https://www.spid.gov.it/SpidL2",
                    "https://www.spid.gov.it/SpidL3"
                ],
                "grant_types_supported": [
                    "authorization_code"
                ],
                "issuer": "https://it-wallet-eaa-provider.example.it",
                "jwks": {
                    "keys": [
                        {
                            "crv": "P-256",
                            "kty": "EC",
                            "x": "newK5qDYMekrCPPO-yEYTdJVWJMTzasMavt2vm1Mb-A",
                            "y": "VizXaLO6dzeesZPxfpGZabTK3cTXtBUbIiQpmiYRtSE",
                            "kid": "ff0bded045fe63fe5d1d64dd83b567e0"
                        }
                    ]
                },
                "scopes_supported": [
                    "PersonIdentificationData"
                ],
                "request_parameter_supported": true,
                "request_uri_parameter_supported": false,
                "response_types_supported": [
                    "code"
                ],
                "subject_types_supported": [
                    "pairwise"
                ],
                "token_endpoint_auth_methods_supported": [
                    "attest_jwt_client_auth"
                ],
                "token_endpoint_auth_signing_alg_values_supported": [
                    "ES256",
                    "ES384",
                    "ES512"
                ],
                "request_object_signing_alg_values_supported": [
                    "ES256",
                    "ES384",
                    "ES512"
                ]
            },
            "openid_credential_issuer": {
                "credential_issuer": "https://it-wallet-eaa-provider.example.it",
                "credential_endpoint": "https://it-wallet-eaa-provider.example.it/credential",
                "revocation_endpoint": "https://it-wallet-eaa-provider.example.it/revoke",
                "status_attestation_endpoint": "https://it-wallet-eaa-provider.example.it/status",
                "dpop_signing_alg_values_supported": [
                    "ES256",
                    "ES512"
                ],
                "display": [
                    {
                        "name": "PID Provider Italiano di esempio",
                        "locale": "it-IT"
                    },
                    {
                        "name": "Example PID Provider",
                        "locale": "en-US",
                        "logo": {
                            "url": "https://it-wallet-eaa-provider.example.it/public/logo.svg",
                            "alt_text": "logo di questo PID Provider"
                        }
                    }
                ],
                "jwks": {
                    "keys": [
                        {
                            "crv": "P-256",
                            "kty": "EC",
                            "x": "newK5qDYMekrCPPO-yEYTdJVWJMTzasMavt2vm1Mb-A",
                            "y": "VizXaLO6dzeesZPxfpGZabTK3cTXtBUbIiQpmiYRtSE",
                            "kid": "ff0bded045fe63fe5d1d64dd83b567e0"
                        }
                    ]
                },
                "credential_configurations_supported": [
                    {
                        "format": "vc+sd-jwt",
                        "cryptographic_binding_methods_supported": [
                            "jwk"
                        ],
                        "credential_signing_alg_values_supported": [
                            "ES256",
                            "ES384",
                            "ES512"
                        ],
                        "proof_types_supported": {
                            "jwt": {
                                "proof_signing_alg_values_supported": [
                                    "ES256"
                                ]
                            }
                        },
                        "display": [
                            {
                                "name": "PID Italiano di esempio",
                                "locale": "it-IT",
                                "logo": {
                                    "url": "https://it-wallet-eaa-provider.example.it/public/logo.svg",
                                    "alt_text": "logo di questa Credenziale"
                                },
                                "background_color": "#12107c",
                                "text_color": "#FFFFFF"
                            },
                            {
                                "name": "Example Italian PID",
                                "locale": "en-US",
                                "logo": {
                                    "url": "https://it-wallet-eaa-provider.example.it/public/logo.svg",
                                    "alt_text": "The logo of this credential"
                                },
                                "background_color": "#12107c",
                                "text_color": "#FFFFFF"
                            }
                        ],
                        "credential_definition": {
                            "type": [
                                "PersonIdentificationData"
                            ],
                            "verification": {
                                "trust_framework": "eaaas",
                                "assurance_level": "high",
                                "evidence": [
                                    {
                                        "type": "electronic_record",
                                        "record": {
                                            "type": "https://eudi.wallet.cie.gov.it",
                                            "source": {
                                                "organization_name": "Ministero dell'Interno",
                                                "organization_id": "urn:eudi:it:organization_id:ipa_code:m_it",
                                                "country_code": "IT"
                                            }
                                        }
                                    }
                                ]
                            },
                            "credentialSubject": {
                                "given_name": {
                                    "mandatory": true,
                                    "display": [
                                        {
                                            "name": "Current First Name",
                                            "locale": "en-US"
                                        },
                                        {
                                            "name": "Nome",
                                            "locale": "it-IT"
                                        }
                                    ]
                                },
                                "family_name": {
                                    "mandatory": true,
                                    "display": [
                                        {
                                            "name": "Current Family Name",
                                            "locale": "en-US"
                                        },
                                        {
                                            "name": "Cognome",
                                            "locale": "it-IT"
                                        }
                                    ]
                                },
                                "birth_date": {
                                    "mandatory": true,
                                    "display": [
                                        {
                                            "name": "Date of Birth",
                                            "locale": "en-US"
                                        },
                                        {
                                            "name": "Data di Nascita",
                                            "locale": "it-IT"
                                        }
                                    ]
                                },
                                "unique_id": {
                                    "mandatory": true,
                                    "display": [
                                        {
                                            "name": "Unique Identifier",
                                            "locale": "en-US"
                                        },
                                        {
                                            "name": "Identificativo univoco",
                                            "locale": "it-IT"
                                        }
                                    ]
                                },
                                "tax_id_code": {
                                    "mandatory": true,
                                    "display": [
                                        {
                                            "name": "Tax Id Number",
                                            "locale": "en-US"
                                        },
                                        {
                                            "name": "Codice Fiscale",
                                            "locale": "it-IT"
                                        }
                                    ]
                                }
                            }
                        },
                        "wallet_relying_party": {
                            "authorization_endpoint": "https://it-wallet-eaa-provider.example.it/authorization",
                            "pushed_authorization_request_endpoint": "https://it-wallet-eaa-provider.example.it/as/par",
                            "dpop_signing_alg_values_supported": [
                                "ES256",
                                "ES512"
                            ],
                            "token_endpoint": "https://it-wallet-eaa-provider.example.it/token",
                            "client_registration_types_supported": [
                                "automatic"
                            ],
                            "code_challenge_methods_supported": [
                                "S256"
                            ],
                            "authorization_details_types_supported": [
                                "openid_credential"
                            ],
                            "acr_values_supported": [
                                "https://www.spid.gov.it/SpidL2",
                                "https://www.spid.gov.it/SpidL3"
                            ],
                            "grant_types_supported": [
                                "authorization_code"
                            ],
                            "issuer": "https://it-wallet-eaa-provider.example.it",
                            "jwks": {
                                "keys": [
                                    {
                                        "crv": "P-256",
                                        "kty": "EC",
                                        "x": "newK5qDYMekrCPPO-yEYTdJVWJMTzasMavt2vm1Mb-A",
                                        "y": "VizXaLO6dzeesZPxfpGZabTK3cTXtBUbIiQpmiYRtSE",
                                        "kid": "ff0bded045fe63fe5d1d64dd83b567e0"
                                    }
                                ]
                            },
                            "scopes_supported": [
                                "PersonIdentificationData"
                            ],
                            "request_parameter_supported": true,
                            "request_uri_parameter_supported": false,
                            "response_types_supported": [
                                "code"
                            ],
                            "subject_types_supported": [
                                "pairwise"
                            ],
                            "token_endpoint_auth_methods_supported": [
                                "attest_jwt_client_auth"
                            ],
                            "token_endpoint_auth_signing_alg_values_supported": [
                                "ES256",
                                "ES384",
                                "ES512"
                            ],
                            "request_object_signing_alg_values_supported": [
                                "ES256",
                                "ES384",
                                "ES512"
                            ]
                        }
                    }
                ]
            },
            "wallet_relying_party":{
                "client_registration_types": ["automatic"],
                "authorization_signed_response_alg":["RS256","ES256"],
                "jwks":{
                    "keys":[
                        {
                            "kty":"RSA",
                            "e":"AQAB",
                            "alg":"RS256",
                            "use":"sig",
                            "n":"3F299SoApwJL5Hojh3u7K4DRPvzIZa5P491cfz1NfLS7iOcagFcndm6STRCevKEtUZPhAgb0vj_OJkziokdpqktUyv3WaD-fw",
                            "kid":"rGThDYcE5PiCXYGc5Dj54YGvosJQSsNMCxxaS_jzldU"
                        },
                        {
                            "kty":"RSA",
                            "e":"AQAB",
                            "alg":"RSA-OAEP-256",
                            "use":"enc",
                            "n":"7h47mZx-sTTf79Ai4b4hIbkeeDaQbZPrMvo0lOh3DE3rs34gaAOsPjrYCJNx0LgIVkNJ501x-aKpdVBAzksHyQ7lcoD_nA1ycJ6BqbCV7MllfEWuYlE0yUPw1EO2bjHuBFdTm76Ic2boBUaLLxz6x5qaYZJWQdjTHV_aJxjmI36XvTP-IoKv80m4Y9Qsabcf_TYGTIOyPwX6q35DYIZuTXXdz46-hTC2zXbgDl1NnuxT4fZvXdNwnBn4BL3juVD-hqDB4otw782lIMUEcWE_AEqKxI8xiKxs-rsEDKqEx5nTYVPPdcfFHPHO-iJoZK9452UE_bcHWl_3NkoYDxNTDw",
                            "kid":"7jEc7RB5Q7B-aFIvIZ9VTmK-SF7Eqzf8xWc7qCArg2Y"
                        }
                    ]
                },
                "grant_types":["refresh_token","authorization_code"],
                "default_max_age":1111,
                "subject_type":"pairwise",
                "application_type":"web",
                "presentation_definitions":[
                    {
                        "input_descriptors":[
                            {
                                "format":{
                                    "jwt":{
                                        "alg":["EdDSA","ES256"]
                                    },
                                    "constraints":{
                                        "limit_disclosure":"required",
                                        "fields":[
                                            {
                                            "filter":{
                                                "const":"PersonIdentificationData",
                                                "type":"string"},
                                                "path":["$.sd-jwt.type"]
                                            },
                                            {
                                                "filter":{
                                                "type":"object"},
                                                "path":["$.sd-jwt.cnf"]
                                            },
                                            {
                                                "intent_to_retain":"true",
                                                "path":["$.sd-jwt.family_name"]
                                            },
                                            {
                                                "intent_to_retain":"true",
                                                "path":["$.sd-jwt.given_name"]
                                            },
                                            {   "intent_to_retain":"true",
                                                "path":["$.sd-jwt.unique_id"]
                                            }
                                            ]
                                    }
                                },
                                "id":"pid-sd-jwt:unique_id+given_name+family_name"
                            }
                        ],
                        "id":"pid-sd-jwt:unique_id+given_name+family_name"
                    },
                    {
                        "input_descriptors":[
                            {
                                "format":{
                                    "mso_mdoc":{
                                            "alg":["EdDSA","ES256"]
                                        },
                                    "constraints":{
                                        "limit_disclosure":"required",
                                        "fields":[
                                            {
                                                "filter":{
                                                    "const":"org.iso.18013.5.1.mDL",
                                                    "type":"string"
                                                    },
                                                "path":["$.mdoc.doctype"]
                                            },
                                            {
                                                "filter":{
                                                    "const":"org.iso.18013.5.1",
                                                    "type":"string"
                                                    },
                                                "path":["$.mdoc.namespace"]
                                            },
                                            {
                                                "intent_to_retain":"false",
                                                "path":["$.mdoc.family_name"]
                                            },
                                            {
                                                "intent_to_retain":"false",
                                                "path":["$.mdoc.portrait"]
                                            },
                                            {
                                                "intent_to_retain":"false",
                                                "path":["$.mdoc.driving_privileges"]
                                            }
                                        ]
                                    }
                                },
                                "id":"mDL"
                            }
                        ],
                        "id":"mDL-sample-req"
                    }
                ],
                "redirect_uris":["https://https://it-wallet-eaa-provider.example.it/callback"],
                "client_id":"https://https://it-wallet-eaa-provider.example.it",
                "vp_formats":{
                    "jwt_vp_json":{
                        "alg":["EdDSA","ES256K"]
                    }
                },
                "authorization_encrypted_response_alg":["RSA-OAEP","RSA-OAEP-256"],
                "authorization_encrypted_response_enc":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],
                "id_token_encrypted_response_alg":["RSA-OAEP","RSA-OAEP-256"],
                "id_token_encrypted_response_enc":["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128GCM","A192GCM","A256GCM"],
                "request_uris":[
                    []
                ],
                "require_auth_time":true,
                "client_name":"it wallet eaa-issuer",
                "contacts":[
                    "protocollo@pec.ipzs.it"
                ],
                "response_types":["code"],
                "id_token_signed_response_alg":["RS256","ES256"]
            }
        }
    }
}